(this["webpackJsonpreact-crud"]=this["webpackJsonpreact-crud"]||[]).push([[0],{102:function(e,t,a){"use strict";a.r(t);var i=a(0),n=a.n(i),c=a(8),s=a.n(c),r=a(29),l=a(20),o=a(21),u=a(26),d=a(25),h=a(11),b=(a(76),a(77),{appBar:{backgroundColor:"#343A40",height:"50px","& .MuiToolbar-regular":{minHeight:"50px"}},name:{marginRight:"15px"},link:{textTransform:"unset",color:"#a5a5a5",margin:"0 20px",textDecoration:"unset"}}),j=a(10),p=a(57),g=a.n(p).a.create({baseURL:"http://localhost:8080/api",headers:{"Content-type":"application/json"}}),v=new(function(){function e(){Object(l.a)(this,e)}return Object(o.a)(e,[{key:"getAll",value:function(e){return g.get("/tutorials",{params:e})}},{key:"get",value:function(e){return g.get("/tutorials/".concat(e))}},{key:"create",value:function(e){return g.post("/tutorials",e)}},{key:"update",value:function(e,t){return g.put("/tutorials/".concat(e),t)}},{key:"delete",value:function(e){return g.delete("/tutorials/".concat(e))}},{key:"deleteAll",value:function(){return g.delete("/tutorials")}},{key:"findByTitle",value:function(e){return g.get("/tutorials?title=".concat(e))}}]),e}()),O=a(131),m=a(138),x=a(5),f=a(2),T=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var i;return Object(l.a)(this,a),(i=t.call(this,e)).onChangeTitle=i.onChangeTitle.bind(Object(j.a)(i)),i.onChangeDescription=i.onChangeDescription.bind(Object(j.a)(i)),i.saveTutorial=i.saveTutorial.bind(Object(j.a)(i)),i.newTutorial=i.newTutorial.bind(Object(j.a)(i)),i.state={id:null,title:"",description:"",published:!1,submitted:!1},i}return Object(o.a)(a,[{key:"onChangeTitle",value:function(e){this.setState({title:e.target.value})}},{key:"onChangeDescription",value:function(e){this.setState({description:e.target.value})}},{key:"saveTutorial",value:function(){var e=this,t={title:this.state.title,description:this.state.description};v.create(t).then((function(t){e.setState({id:t.data.id,title:t.data.title,description:t.data.description,published:t.data.published,submitted:!0}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"newTutorial",value:function(){this.setState({id:null,title:"",description:"",published:!1,submitted:!1})}},{key:"render",value:function(){var e=this.props.classes;return Object(f.jsx)(n.a.Fragment,{children:this.state.submitted?Object(f.jsxs)("div",{className:e.form,children:[Object(f.jsx)("h4",{children:"You Submitted successfully!"}),Object(f.jsx)(O.a,{size:"small",color:"primary",variant:"contained",onClick:this.newTutorial,children:"Add"})]}):Object(f.jsxs)("div",{className:e.form,children:[Object(f.jsx)("div",{className:e.TextFied,children:Object(f.jsx)(m.a,{label:"Title",name:"title",value:this.state.title,onChange:this.onChangeTitle,required:!0})}),Object(f.jsx)("div",{className:"classes.textField",children:Object(f.jsx)(m.a,{label:"Description",name:"description",value:this.state.description,onChange:this.onChangeDescription,required:!0})}),Object(f.jsx)(O.a,{size:"small",color:"primary",variant:"contained",onClick:this.saveTutorial,children:"Submit"})]})})}}]),a}(i.Component),y=Object(x.a)(b)(T),C=a(30),k=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var i;return Object(l.a)(this,a),(i=t.call(this,e)).onChangeTitle=i.onChangeTitle.bind(Object(j.a)(i)),i.onChangeDescription=i.onChangeDescription.bind(Object(j.a)(i)),i.getTutorial=i.getTutorial.bind(Object(j.a)(i)),i.updatePublished=i.updatePublished.bind(Object(j.a)(i)),i.updateTutorial=i.updateTutorial.bind(Object(j.a)(i)),i.deleteTutorial=i.deleteTutorial.bind(Object(j.a)(i)),i.state={currentTutorial:{id:null,title:"",description:"",published:!1},message:""},i}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getTutorial(this.props.match.params.id)}},{key:"onChangeTitle",value:function(e){var t=e.target.value;this.setState((function(e){return{currentTutorial:Object(C.a)(Object(C.a)({},e.currentTutorial),{},{title:t})}}))}},{key:"onChangeDescription",value:function(e){var t=e.target.value;this.setState((function(e){return{currentTutorial:Object(C.a)(Object(C.a)({},e.currentTutorial),{},{description:t})}}))}},{key:"getTutorial",value:function(e){var t=this;v.get(e).then((function(e){t.setState({currentTutorial:e.data}),console.log(e.data)})).catch((function(e){console.log(e)}))}},{key:"updatePublished",value:function(e){var t=this,a={id:this.state.currentTutorial.id,title:this.state.currentTutorial.title,description:this.state.currentTutorial.description,published:e};v.update(this.state.currentTutorial.id,a).then((function(a){t.setState((function(t){return{currentTutorial:Object(C.a)(Object(C.a)({},t.currentTutorial),{},{published:e})}})),console.log(a.data)})).catch((function(e){console.log(e)}))}},{key:"updateTutorial",value:function(){var e=this;v.update(this.state.currentTutorial.id,this.state.currentTutorial).then((function(t){console.log(t.data),e.setState({message:"The tutorial was update successfully"})})).catch((function(e){console.log(e)}))}},{key:"deleteTutorial",value:function(){var e=this;v.delete(this.state.currentTutorial.id).then((function(t){console.log(t.data),e.props.history.push("/tutorials")})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.currentTutorial;return Object(f.jsx)("div",{children:t?Object(f.jsxs)("div",{className:"edit-form",children:[Object(f.jsx)("h4",{children:"Tutorial"}),Object(f.jsxs)("form",{children:[Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"title",children:"Title"}),Object(f.jsx)("input",{type:"text",className:"form-control",id:"title",value:t.title,onChange:this.onChangeTitle})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"description",children:"Description"}),Object(f.jsx)("input",{type:"text",className:"form-control",id:"description",value:t.description,onChange:this.onChangeDescription})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{children:Object(f.jsx)("strong",{children:"Status:"})}),t.published?"Published ":"Pending"]})]}),t.published?Object(f.jsx)("button",{className:"badge badgee-primary mr-2",onClick:function(){return e.updatePublished(!1)},children:"UnPublish"}):Object(f.jsx)("button",{className:"badge badge-primary mr-2",onClick:function(){return e.updatePublished(!0)},children:"Publish"}),Object(f.jsx)("button",{className:"badge badge-danger mr-2",onClick:this.deleteTutorial,children:"Delete"}),Object(f.jsx)("button",{type:"submit",className:"badge badge-success",onClick:this.updateTutorial,children:"Update"}),Object(f.jsx)("p",{children:this.state.message})]}):Object(f.jsxs)("div",{children:[Object(f.jsx)("br",{}),Object(f.jsx)("p",{children:"Please click on a Tutorial..."})]})})}}]),a}(i.Component),S=a(139),N=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var i;return Object(l.a)(this,a),(i=t.call(this,e)).onChangeSearchTitle=i.onChangeSearchTitle.bind(Object(j.a)(i)),i.retrieveTutorials=i.retrieveTutorials.bind(Object(j.a)(i)),i.refreshList=i.refreshList.bind(Object(j.a)(i)),i.setActiveTutorial=i.setActiveTutorial.bind(Object(j.a)(i)),i.removeAllTutorials=i.removeAllTutorials.bind(Object(j.a)(i)),i.handlePageChange=i.handlePageChange.bind(Object(j.a)(i)),i.handlePageSizeChange=i.handlePageSizeChange.bind(Object(j.a)(i)),i.state={tutorials:[],currentTutorial:null,currentIndex:-1,searchTitle:"",page:1,count:0,pageSize:3},i.pageSizes=[3,6,9],i}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.retrieveTutorials()}},{key:"onChangeSearchTitle",value:function(e){var t=e.target.value;this.setState({searchTitle:t})}},{key:"getRequestParams",value:function(e,t,a){var i={};return e&&(i.title=e),t&&(i.page=t-1),a&&(i.size=a),i}},{key:"retrieveTutorials",value:function(){var e=this,t=this.state,a=t.searchTitle,i=t.page,n=t.pageSize,c=this.getRequestParams(a,i,n);v.getAll(c).then((function(t){var a=t.data,i=a.tutorials,n=a.totalPages;e.setState({tutorials:i,count:n}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"refreshList",value:function(){this.retrieveTutorials(),this.setState({currentTutorial:null,currentIndex:-1})}},{key:"setActiveTutorial",value:function(e,t){this.setState({currentTutorial:e,currentIndex:t})}},{key:"removeAllTutorials",value:function(){var e=this;v.deleteAll().then((function(t){console.log(t.data),e.refreshList()})).catch((function(e){console.log(e)}))}},{key:"searchTitle",value:function(){var e=this;this.setState({currentTutorial:null,currentIndex:-1}),v.findByTitle(this.state.searchTitle).then((function(t){e.state({tutorials:t.data}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"handlePageChange",value:function(e,t){var a=this;this.setState({page:t},(function(){a.retrieveTutorials()}))}},{key:"handlePageSizeChange",value:function(e){var t=this;this.setState({pageSize:e.target.value,page:1},(function(){t.retrieveTutorials()}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.searchTitle,i=t.tutorials,n=t.currentTutorial,c=t.currentIndex,s=t.page,l=t.count,o=t.pageSize;return Object(f.jsx)("div",{className:"container",children:Object(f.jsxs)("div",{className:"list row",children:[Object(f.jsx)("div",{className:"col-md-8",children:Object(f.jsxs)("div",{className:"input-group mb-3",children:[Object(f.jsx)("input",{type:"text",className:"form-control",placeholder:"Search by title",value:a,onChange:this.onChangeSearchTitle}),Object(f.jsx)("div",{className:"input-group-append",children:Object(f.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:this.retrieveTutorials,children:"Search"})})]})}),Object(f.jsxs)("div",{className:"col-md-6",children:[Object(f.jsx)("h4",{children:"Movie List"}),Object(f.jsxs)("div",{className:"mt-3",children:["Items per Page:",Object(f.jsx)("select",{onChange:this.handlePageSizeChange,value:o,children:this.pageSizes.map((function(e){return Object(f.jsx)("option",{value:e,children:e},e)}))}),Object(f.jsx)(S.a,{className:"my-3",count:l,page:s,siblingCount:1,boundaryCount:1,variant:"outlined",shape:"rounded",onChange:this.handlePageChange})]}),Object(f.jsx)("ul",{className:"list-group",children:i&&i.map((function(t,a){return Object(f.jsx)("li",{className:"list-group-item "+(a===c?"active":""),onClick:function(){return e.setActiveTutorial(t,a)},children:t.title},a)}))}),Object(f.jsx)("button",{className:"m-3 btn btn-sm btn-danger",onClick:this.removeAllTutorials,children:"Remove All"})]}),Object(f.jsx)("div",{className:"col-md-6",children:n?Object(f.jsxs)("div",{children:[Object(f.jsx)("h4",{children:"Tutorial"}),Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{children:Object(f.jsx)("strong",{children:"Title:"})})," ",n.title]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{children:Object(f.jsx)("strong",{children:"Description:"})})," ",n.description]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{children:Object(f.jsx)("strong",{children:"Status:"})})," ",n.published?"Published":"Pending"]}),Object(f.jsx)(r.b,{to:"/tutorials/"+n.id,className:"badge badge-warning",children:"Edit"})]}):Object(f.jsxs)("div",{children:[Object(f.jsx)("br",{}),Object(f.jsx)("p",{children:"Please click on a Tutorial..."})]})})]})})}}]),a}(i.Component),P=a(135),w=a(136),A=a(137),D=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.classes;return Object(f.jsxs)("div",{children:[Object(f.jsx)(P.a,{className:e.appBar,position:"static",children:Object(f.jsxs)(w.a,{children:[Object(f.jsx)(A.a,{className:e.name,variant:"h6",children:"Chinh IoT"}),Object(f.jsx)(r.b,{to:"/tutorials",className:e.link,children:Object(f.jsx)(A.a,{variant:"body2",children:"Tutorials"})}),Object(f.jsx)(r.b,{to:"/add",className:e.link,children:Object(f.jsx)(A.a,{variant:"body2",children:"Add"})})]})}),Object(f.jsxs)(h.c,{children:[Object(f.jsx)(h.a,{exact:!0,path:["/","/tutorials"],component:N}),Object(f.jsx)(h.a,{exact:!0,path:"/add",component:y}),Object(f.jsx)(h.a,{path:"/tutorials/:id",component:k})]})]})}}]),a}(i.Component),z=Object(x.a)(b)(D);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(f.jsx)(r.a,{children:Object(f.jsx)(z,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},77:function(e,t,a){}},[[102,1,2]]]);
//# sourceMappingURL=main.6f51c148.chunk.js.map